<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Broadcast Planner</title>

  <!-- Font Awesome -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/styles/index.css" />
  <link rel="icon" href="/assets/logo.png" type="image/png" />
</head>
<body>
  <!-- HEADER -->
  <header class="header">
    <div class="logo">
      <img src="/assets/logo.png" alt="Broadcast Planner Logo" />
      <h4>Broadcast Planner</h4>
    </div>

    <nav class="nav-tabs">
      <button class="tab active">TV Schedule</button>
      <button class="tab">Radio Schedule</button>
    </nav>

    <div class="search-bar">
      <input type="text" id="search-input" placeholder="Search program or channel..." />
      <button id="search-btn" class="search-btn">🔍</button>
    </div>
    <span id="no-results" style="display: none; color: red; margin-top: 10px;">No matching programs or stations found.</span>
    <div class="theme-toggle">
      <button id="theme-toggle-btn" title="Toggle Light/Dark Mode">🌙 Dark Mode</button>
    </div>
  </header>

  <!-- NAVIGATION BELOW HEADER -->
  <section class="date-channel-nav">
    <div class="date-controls">
      <button class="nav-btn" id="prev-day">&larr; Previous Day</button>
      <span class="today-label" id="current-day-label">Today</span>
      <button class="nav-btn" id="next-day">Next Day &rarr;</button>
    </div>
    
    <div class="channel-filter">
      <label for="channel-select">Channel:</label>
      <select id="channel-select">
        <option value="all">All Channels</option>
        <option value="nta">NTA</option>
        <option value="channels">Channels TV</option>
        <option value="bbc">BBC</option>
        <option value="supersport">SuperSport</option>
        <option value="soundcity">SoundCity</option>
        <option value="beatfm">Beat FM</option>
        <option value="coolfm">Cool FM</option>
        <option value="raypower">Raypower</option>
        <option value="correctfm">Correct Fm</option>
        <option value="talksports">Talk Sports</option>
        <option value="bridgeradio">Bridge Radio</option>
        <option value="naijagame">Naija Game</option>
        <option value="techtv">TechTv</option>
        <option value="africamagic">AfricaMagic</option>
      </select>
    </div>
  </section>

  <!-- TV Schedule Section -->
  <section id="tv-schedule" class="schedule-section">
    <h2>📺 TV Schedule</h2>
    <table>
      <thead>
        <tr>
          <th>Time</th>
          <th>Program Title</th>
          <th>Channel</th>
          <th>Rating</th>
          
        </tr>
      </thead>
      <tbody>
        <!-- Sample Row -->
        <tr>
          <td>6:00 AM</td>
          <td>
            <i class="fas fa-newspaper"></i>
            <a href="/html/Morning-Program.html" class="program-link">Morning News</a>
          </td>
          
          </td>
          <td>
            <img src="/assets/Logos/Nta.jpeg" alt="NTA" class="channel-logo"/> NTA
          </td>
          <td>
            <i class="fas fa-newspaper"></i> Morning News
            <div class="rating" data-title="Morning News" data-time="6:00 AM">
              <span>☆</span><span>☆</span><span>☆</span><span>☆</span><span>☆</span>
            </div>
        </tr>
        <td>7:00 AM</td>
        <td>
          <i class="fas fa-newspaper"></i>
          <a href="/html/Breakfast-Show.html" class="program-link">Breakfast Show</a>
        </td>
        <td>
          <img src="/assets/Logos/Channels.jpeg" alt="NTA" class="channel-logo" />Channels Tv
        </td>
        <td>
          <i class="fas fa-newspaper"></i> Breakfast Show
          <div class="rating" data-title="Morning News" data-time="6:00 AM">
            <span>☆</span><span>☆</span><span>☆</span><span>☆</span><span>☆</span>
          </div>
        </td>
      </tr>
      <tr>
        <td>9:00 AM</td>
        <td>
          <i class="fas fa-film"></i>
          <a href="/html/family-movie.html" class="program-link">Family Movie:The Journey</a>
        </td>
        <td>
          <img src="/assets/Logos/Nta.jpeg" alt="NTA" class="channel-logo" /> NTA
        </td>
        <td>
          <i class="fas fa-film"></i> Family Movie:The Journey
          <div class="rating" data-title="Morning News" data-time="6:00 AM">
            <span>☆</span><span>☆</span><span>☆</span><span>☆</span><span>☆</span>
          </div>
      </tr>
      <tr>
        <td>10:00 AM</td>
        <td>
          <i class="fas fa-book""></i>
          <a href="/html/documentry.html" class="program-link">Documentary:World Life</a>
        </td>
        <td>
          <img src="/assets/Logos/BBC.jpeg" alt="NTA" class="channel-logo" /> BBC
        </td>
        <td>
          <i class="fas fa-book"></i> Documentary:World Life
          <div class="rating" data-title="Morning News" data-time="6:00 AM">
            <span>☆</span><span>☆</span><span>☆</span><span>☆</span><span>☆</span>
          </div>
      </tr>
      <tr>
        <td>7:00 PM</td>
        <td>
          <i class="fas fa-tv"></i>
          <a href="program.html" class="program-link">Prime Time Drama</a>
        </td>
        <td>
          <img src="/assets/Logos/AfricaMagic.jpeg" alt="NTA" class="channel-logo" /> AfricaMagic
        </td>
        <td>
          <i class="as fa-tv"></i> Prime Time Drama
          <div class="rating" data-title="Morning News" data-time="6:00 AM">
            <span>☆</span><span>☆</span><span>☆</span><span>☆</span><span>☆</span>
          </div>
      </tr>
      <tr>
        <td>8:00 PM</td>
        <td>
          <i class="fas fa-futbol"></i>
          <a href="/html/football-live.html" class="program-link">Football Live</a>
        </td>
        <td>
          <img src="/assets/Logos/SuperSport.jpeg" alt="NTA" class="channel-logo" /> SuperSport
        </td>
        <td>
          <i class="fas fa-futbol"></i> Football Live
          <div class="rating" data-title="Morning News" data-time="6:00 AM">
            <span>☆</span><span>☆</span><span>☆</span><span>☆</span><span>☆</span>
          </div>
      </tr>
      <tr>
        <td>3:00 PM</td>
        <td>
          <i class="fas fa-gamepad"></i>
          <a href="/html/game-central.html" class="program-link">Gaming Central</a>
        </td>
        <td>
          <img src="/assets/Logos/GameTv.jpeg" alt="NTA" class="channel-logo" /> Naija Game
        </td>
        <td>
          <i class="fas fa-gamepad"></i> Gaming Central
          <div class="rating" data-title="Morning News" data-time="6:00 AM">
            <span>☆</span><span>☆</span><span>☆</span><span>☆</span><span>☆</span>
          </div>
      </tr>
      <tr>
        <td>1:00 PM</td>
        <td>
          <i class="fas fa-laptop-code"></i>
          <a href="/html/tech-world.html" class="program-link">Tech World</a>
        </td>
        <td>
          <img src="/assets/Logos/TechTv.png" alt="NTA" class="channel-logo" /> Tech+ Tv
        </td>
        <td>
          <i class="fas fa-laptop-code"></i> Tech World
          <div class="rating" data-title="Morning News" data-time="6:00 AM">
            <span>☆</span><span>☆</span><span>☆</span><span>☆</span><span>☆</span>
          </div>
      </tr>
        <!-- Add more rows similarly -->
      </tbody>
    </table>
  </section>

  <!-- Radio Schedule Section -->
  <section id="radio-schedule" class="schedule-section" style="display: none;">
    <h2>📻 Radio Schedule</h2>
    <table>
      <thead>
        <tr>
          <th>Time</th>
          <th>Program Title</th>
          <th>Station</th>
          <th>Rating</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>6:00 AM</td>
          <td>
            <i class="fas fa-headphones"></i>
            <a href="/html/early-morning-worship.html" class="program-link">Early Morning Worship</a>
          </td>
          <td>
            <img src="/assets/Logos/BeatFm.png" alt="NTA" class="channel-logo" />  Beat FM
          </td>
          <td>
            <i class="fas fa-headphones"></i> Early Morning Worship
            <div class="rating" data-title="Morning News" data-time="6:00 AM">
              <span>☆</span><span>☆</span><span>☆</span><span>☆</span><span>☆</span>
            </div>
          <tr>
            <td>7:00 AM</td>
            <td>
              <i class="fas fa-music"></i>
              <a href="/html/sunrise-music.html" class="program-link">Sunrise Music</a>
            </td>
            <td>
              <img src="/assets/Logos/CoolFm.png" alt="NTA" class="channel-logo" />  cool Fm
            </td>
            <td>
              <i class="fas fa-music"></i> Sunrise Music
              <div class="rating" data-title="Morning News" data-time="6:00 AM">
                <span>☆</span><span>☆</span><span>☆</span><span>☆</span><span>☆</span>
              </div>
          </tr>
        <tr>
          <td>8:00 AM</td>
          <td>
            <i class="fas fa-podcast"></i>
            <a href="/html/daily-digest.html" class="program-link"> Daily News Digest</a>
          </td>
          <td>
            <img src="/assets/Logos/RayPower.png" alt="NTA" class="channel-logo" />  Raypower
          </td>
          <td>
            <i class="fas fa-podcast"></i> Daily News Digest
            <div class="rating" data-title="Morning News" data-time="6:00 AM">
              <span>☆</span><span>☆</span><span>☆</span><span>☆</span><span>☆</span>
            </div>
        </tr>
        <tr>
          <td>10:00 PM</td>
          <td>
            <i class="fas fa-headphones"></i>
            <a href="/html/radio-vibes.html" class="program-link"> Radio Vibes (Simulcast)</a>
          </td>
          <td>
            <img src="/assets/Logos/BeatFm.png" alt="NTA" class="channel-logo" />  Beat Fm
          </td>
          <td>
            <i class="fas fa-headphone"></i>  Radio Vibes (Simulcast)
            <div class="rating" data-title="Morning News" data-time="6:00 AM">
              <span>☆</span><span>☆</span><span>☆</span><span>☆</span><span>☆</span>
            </div>
        </tr>
        <!-- Add more rows similarly -->
      </tbody>
    </table>
  </section>
  <div class="add-schedule-container">
    <button class="add-schedule-btn">
      <i class="fas fa-plus-circle"></i> Add Schedule
    </button>
  </div>
  <footer class="site-footer">
    <div class="footer-content">
      <div class="footer-links">
        <a href="/html/about.html">About</a>
        <a href="/html/contact-form.html">Contact</a>
        <a href="/html/team.html">Team</a>
        
      </div>
  
      <div class="footer-social">
        <a href="https://twitter.com/Broadcast_Planner" title="Twitter"><i class="fab fa-twitter"></i></a>
        <a href="https://facebook.com/Broadcast_Planner" title="Facebook"><i class="fab fa-facebook"></i></a>
        <a href="https://instagram.com/Broadcast_Planner" title="Instagram"><i class="fab fa-instagram"></i></a>
        <a href="https://youTube.com/Broadcast_Planner" title="YouTube"><i class="fab fa-youtube"></i></a>
      </div>
      <button id="backToTop">⬆️ Back to Top</button>
      <p class="footer-copy">© 2025 Broadcast Planner. All rights reserved.</p>
    </div>
  </footer>
  <!-- Scripts -->
  <script>
    // Tab Switching
    const tvTab = document.querySelector('.tab:nth-child(1)');
    const radioTab = document.querySelector('.tab:nth-child(2)');
    const tvSchedule = document.getElementById('tv-schedule');
    const radioSchedule = document.getElementById('radio-schedule');

    tvTab.addEventListener('click', () => {
      tvTab.classList.add('active');
      radioTab.classList.remove('active');
      tvSchedule.style.display = 'block';
      radioSchedule.style.display = 'none';
    });

    radioTab.addEventListener('click', () => {
      radioTab.classList.add('active');
      tvTab.classList.remove('active');
      radioSchedule.style.display = 'block';
      tvSchedule.style.display = 'none';
    });

    // Search + Highlight
    const searchInput = document.getElementById('search-input');
    const searchBtn = document.getElementById('search-btn');
    const clearBtn = document.getElementById('clear-btn');
    const noResults = document.getElementById('no-results');

    function highlightMatch(text, query) {
      const regex = new RegExp(`(${query})`, 'gi');
      return text.replace(regex, '<mark>$1</mark>');
    }

    function performSearch() {
      const query = searchInput.value.trim().toLowerCase();
      let totalVisible = 0;
      const allTables = document.querySelectorAll('.schedule-section table tbody');

      allTables.forEach(tbody => {
        const rows = tbody.querySelectorAll('tr');

        rows.forEach(row => {
          const programCell = row.cells[1];
          const channelCell = row.cells[2];
          const programText = programCell.textContent.toLowerCase();
          const channelText = channelCell.textContent.toLowerCase();

          const match = programText.includes(query) || channelText.includes(query);

          if (match && query !== '') {
            row.style.display = '';
            totalVisible++;
            programCell.innerHTML = highlightMatch(programCell.textContent, query);
            channelCell.innerHTML = highlightMatch(channelCell.textContent, query);
          } else if (query === '') {
            row.style.display = '';
            programCell.innerHTML = programCell.textContent;
            channelCell.innerHTML = channelCell.textContent;
          } else {
            row.style.display = 'none';
          }
        });
      });

      noResults.style.display = totalVisible === 0 && query !== '' ? 'block' : 'none';
    }

    searchBtn.addEventListener('click', performSearch);
    searchInput.addEventListener('input', performSearch);
    clearBtn.addEventListener('click', () => {
      searchInput.value = '';
      performSearch();
    });

    // Dark Mode Toggle
    const themeToggleBtn = document.getElementById('theme-toggle-btn');
    themeToggleBtn.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      const isDark = document.body.classList.contains('dark-mode');
      themeToggleBtn.textContent = isDark ? '☀️ Light Mode' : '🌙 Dark Mode';
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });

    window.addEventListener('DOMContentLoaded', () => {
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'dark') {
        document.body.classList.add('dark-mode');
        themeToggleBtn.textContent = '☀️ Light Mode';
      }
    });
    tvTab.addEventListener('click', () => {
  tvTab.classList.add('active');
  radioTab.classList.remove('active');
  tvSchedule.style.display = 'block';
  radioSchedule.style.display = 'none';
  channelSelect.value = 'all';
});



// --- Channel Filter Functionality ---
const channelSelect = document.getElementById('channel-select');

channelSelect.addEventListener('change', () => {
  const selected = channelSelect.value;
  const rows = document.querySelectorAll('tbody tr');

  rows.forEach(row => {
    const channelCell = row.cells[2]; // 3rd column is Channel
    const channelName = channelCell.textContent.toLowerCase();

    if (selected === 'all') {
      row.style.display = '';
    } else {
      row.style.display = channelName.includes(selected.toLowerCase()) ? '' : 'none';
    }
  });
});



radioTab.addEventListener('click', () => {
  radioTab.classList.add('active');
  tvTab.classList.remove('active');
  radioSchedule.style.display = 'block';
  tvSchedule.style.display = 'none';
  channelSelect.value = 'all';
});


tvTab.addEventListener('click', () => {
  tvTab.classList.add('active');
  radioTab.classList.remove('active');
  tvSchedule.style.display = 'block';
  radioSchedule.style.display = 'none';
  channelSelect.value = 'all';
});

radioTab.addEventListener('click', () => {
  radioTab.classList.add('active');
  tvTab.classList.remove('active');
  radioSchedule.style.display = 'block';
  tvSchedule.style.display = 'none';
  channelSelect.value = 'all';
});



function checkLivePrograms() {
  const now = new Date();
  const currentHour = now.getHours();

  document.querySelectorAll('tbody tr').forEach((row) => {
    const timeText = row.cells[0].textContent.trim();
    const match = timeText.match(/^(\d{1,2}):(\d{2})\s?(AM|PM)$/i);

    if (match) {
      let [_, hour, minutes, period] = match;
      hour = parseInt(hour);
      minutes = parseInt(minutes);
      if (period.toUpperCase() === 'PM' && hour !== 12) hour += 12;
      if (period.toUpperCase() === 'AM' && hour === 12) hour = 0;

      const rowHour = hour;
      if (rowHour === currentHour) {
        row.classList.add('live-now');
        if (!row.querySelector('.live-label')) {
          const liveTag = document.createElement('span');
          liveTag.textContent = ' 🔴 LIVE';
          liveTag.className = 'live-label';
          row.cells[1].appendChild(liveTag);
        }
      }
    }
  });
}

checkLivePrograms();
setInterval(checkLivePrograms, 60000); // Update every minute


const genreSelect = document.getElementById('genre-select');
genreSelect.addEventListener('change', () => {
  const selectedGenre = genreSelect.value;
  const rows = document.querySelectorAll('tbody tr');

  rows.forEach(row => {
    const genre = row.getAttribute('data-genre');
    if (selectedGenre === 'all' || genre === selectedGenre) {
      row.style.display = '';
    } else {
      row.style.display = 'none';
    }
  });
});


document.getElementById('backToTop').addEventListener('click', () => {
  window.scrollTo({ top: 0, behavior: 'smooth' });
});


document.querySelectorAll('.rating').forEach(rating => {
  const stars = rating.querySelectorAll('span');
  const title = rating.dataset.title;
  const time = rating.dataset.time;

  stars.forEach((star, index) => {
    star.addEventListener('click', () => {
      localStorage.setItem(`${title}-${time}-rating`, index + 1);
      updateStars(stars, index + 1);
    });

    // Load saved rating
    const saved = localStorage.getItem(`${title}-${time}-rating`);
    if (saved) updateStars(stars, parseInt(saved));
  });
});

function updateStars(stars, count) {
  stars.forEach((star, i) => {
    star.classList.toggle('active', i < count);
  });
}

  </script>
</body>
</html>